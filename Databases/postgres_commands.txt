El simbolo > significa que cualquier usuario lo puede ejecutar
El simbolo # significa que solo se puede ejecutar como usuario

> psql -l -> Listar bases de datos
> psql -U [user] -W -> -U = User, -W = Password

user=# \c [dbname] -> Conectarte a una BD

> psql -U [user] -d [dbname] -> Conectarte a una db directamente

dbname-# \dt -> Lista toda las tablas de la bd

>  psql -U root -d dbfastsuo2022 -c "SELECT * FROM lista_menu" -> -c para realizar una query

user=# create database [dbname] -> Crear bd

user=# \l -> Lista las bases de datos

dbname=# drop schema if exists public;

> pg_dump -U <user> -Fc <database> > <filename>.backup -> Crear un backup
> pg_restore -U <user> -d <database> <filename> -> Restaurar backup
> pg_restore -U <user> -d <database> --no-owner <filename> -> Restaurar sin propietario anterior del backup

CONFIGURAR BD DESDE INICIO
// 1. Acceder como usuario postgres en el servidor
sudo -i -u postgres
psql

// 2. Crear superusuario
CREATE ROLE nuevo_usuario WITH LOGIN SUPERUSER PASSWORD 'tu_contraseÃ±a_segura';

// 3. Salir 
\q

// 4. Configurar conexiones remotas
> sudo vim /var/lib/pgsql/17/data/postgresql.conf // NOTA: 17 es la version, cambiar si es el caso

listen_addresses = '*' -> Modificar la linea listen_addresses para escuchar todas las direcciones, que no este comentado

> sudo vim /var/lib/pgsql/17/data/pg_hba.conf // NOTA: 17 es la version, cambiar si es el caso
host    all             all             0.0.0.0/0               md5      // PAra  permitir conexion desde cualquier red. Cambiar 0.0.0.0/0 para mas seguridad
// 5. Reiniciar servicio
> sudo systemctl restart postgresql-17
